var unread_group = $("#unreadBox_<%= @conversation.sender_id %>, #unreadBox_<%= @conversation.recipient_id %>");
/* unread message */
$(unread_group).find("span").html("0");
$(unread_group).hide();

/* add class to selected chat */
$(".friend-list li.active a").removeClass("current-chat");
$(unread_group).parents("li.active a").addClass("current-chat");

/* reset navigation bar */
$("#unreadCntBox").html("<%= j render("/rooms/msg_nav", remote: true) %>");

/* reload conversation view */
$("#chat").addClass("coversation-box").html("<%= j render(@conversation, remote: true) %>");


/* reload messages view */
<% if !@messages.nil? %>
    $("#messageBox_<%= @conversation.id %>").html("<%= j render(@message, remote: true) %>");
<% end %>

$("#chat .chat-message").scrollTop($("#chat .chat-message")[0].scrollHeight);